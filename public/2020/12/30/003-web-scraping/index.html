<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Web Scraping with Python Using MyAnimeList as An Example | A Blog From Nowhere</title>
  <meta name="keywords" content=" web scraping ">
  <meta name="description" content="Web Scraping with Python Using MyAnimeList as An Example | A Blog From Nowhere">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta property="og:type" content="website">
<meta property="og:title" content="Categories">
<meta property="og:url" content="http://iasnobmatsu.github.io/funeland/categories/index.html">
<meta property="og:site_name" content="A Blog From Nowhere">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-11-04T23:33:41.000Z">
<meta property="article:author" content="iasnobmatsu">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/favicon.png">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/sublime.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/favicon.png"/>
</a>
<div class="author">
    <span>iasnobmatsu</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/iasnobmatsu"
               target="_blank">
                
                    <i class="iconfont icon-github"></i>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(30)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="enjoy">
                        
                        enjoy
                        <small>(11)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="hobbies">
                        
                        hobbies
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="misc">
                        
                        misc
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="projects">
                        
                        projects
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="reviews">
                        
                        reviews
                        <small>(6)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="tools">
                        
                        tools
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="30">
<input type="hidden" id="yelog_site_word_count" value="15k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>听歌有感</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>anime</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>art</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>blog</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>computational photography</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>digital art</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>file conversion</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GitHub</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>guitar</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>markdown</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>matlab</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>music</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>quantitative finance</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>R</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>thoughts</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>watercolor</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>web scraping</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="All enjoy "
           href="/funeland/2023/03/18/035/"
           data-tag="thoughts"
           data-author="" >
            <span class="post-title" title="自说自话">自说自话</span>
            <span class="post-date" title="2023-03-18 00:00:00">2023/03/18</span>
        </a>
        
        
        <a  class="All reviews "
           href="/funeland/2023/03/05/034/"
           data-tag="anime"
           data-author="" >
            <span class="post-title" title="AoT 最终季">AoT 最终季</span>
            <span class="post-date" title="2023-03-05 00:00:00">2023/03/05</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2023/02/28/033/"
           data-tag="thoughts"
           data-author="" >
            <span class="post-title" title="颠倒">颠倒</span>
            <span class="post-date" title="2023-02-28 00:00:00">2023/02/28</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2023/02/13/032/"
           data-tag="thoughts"
           data-author="" >
            <span class="post-title" title="欲下车的乘客请赶紧下车">欲下车的乘客请赶紧下车</span>
            <span class="post-date" title="2023-02-13 00:00:00">2023/02/13</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2023/02/08/031/"
           data-tag="thoughts,听歌有感"
           data-author="" >
            <span class="post-title" title="时不时的听歌有感 4">时不时的听歌有感 4</span>
            <span class="post-date" title="2023-02-08 00:00:00">2023/02/08</span>
        </a>
        
        
        <a  class="All tools "
           href="/funeland/2023/02/07/030/"
           data-tag="GitHub"
           data-author="" >
            <span class="post-title" title="一些奇奇怪怪的 Github 仓库">一些奇奇怪怪的 Github 仓库</span>
            <span class="post-date" title="2023-02-07 00:00:00">2023/02/07</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2023/02/01/029/"
           data-tag="thoughts"
           data-author="" >
            <span class="post-title" title="又是一年春雪瑞丰年">又是一年春雪瑞丰年</span>
            <span class="post-date" title="2023-02-01 00:00:00">2023/02/01</span>
        </a>
        
        
        <a  class="All reviews "
           href="/funeland/2023/01/16/028-anime2023/"
           data-tag="anime"
           data-author="" >
            <span class="post-title" title="2023 年看的动漫 (更新中～)">2023 年看的动漫 (更新中～)</span>
            <span class="post-date" title="2023-01-16 00:00:00">2023/01/16</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2023/01/15/027-recent/"
           data-tag="thoughts"
           data-author="" >
            <span class="post-title" title="寒假看的一些剧">寒假看的一些剧</span>
            <span class="post-date" title="2023-01-15 00:00:00">2023/01/15</span>
        </a>
        
        
        <a  class="All tools "
           href="/funeland/2023/01/01/026-ATPnotes/"
           data-tag="quantitative finance"
           data-author="" >
            <span class="post-title" title="Algorithmic Trading Using Python Notes">Algorithmic Trading Using Python Notes</span>
            <span class="post-date" title="2023-01-01 00:00:00">2023/01/01</span>
        </a>
        
        
        <a  class="All reviews "
           href="/funeland/2022/12/31/025-20221231/"
           data-tag="thoughts"
           data-author="" >
            <span class="post-title" title="2022 年终总结">2022 年终总结</span>
            <span class="post-date" title="2022-12-31 00:00:00">2022/12/31</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2022/12/19/024/"
           data-tag="thoughts,听歌有感"
           data-author="" >
            <span class="post-title" title="时不时的听歌有感 3">时不时的听歌有感 3</span>
            <span class="post-date" title="2022-12-19 00:00:00">2022/12/19</span>
        </a>
        
        
        <a  class="All projects "
           href="/funeland/2022/12/05/022-colorpalette/"
           data-tag="anime,thoughts,R"
           data-author="" >
            <span class="post-title" title="想做一个 JOJO 的 Color Palette">想做一个 JOJO 的 Color Palette</span>
            <span class="post-date" title="2022-12-05 00:00:00">2022/12/05</span>
        </a>
        
        
        <a  class="All reviews "
           href="/funeland/2022/12/02/021-stoneocean/"
           data-tag="anime,thoughts"
           data-author="" >
            <span class="post-title" title="石之海观后感">石之海观后感</span>
            <span class="post-date" title="2022-12-02 00:00:00">2022/12/02</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2022/11/30/018-spotifywrapped2022/"
           data-tag="music,thoughts"
           data-author="" >
            <span class="post-title" title="Spotify Wrapped 2022">Spotify Wrapped 2022</span>
            <span class="post-date" title="2022-11-30 00:00:00">2022/11/30</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2022/11/27/019-pr/"
           data-tag="music,thoughts,听歌有感"
           data-author="" >
            <span class="post-title" title="时不时的听歌有感 2">时不时的听歌有感 2</span>
            <span class="post-date" title="2022-11-27 00:00:00">2022/11/27</span>
        </a>
        
        
        <a  class="All tools "
           href="/funeland/2022/11/19/017-pandoc/"
           data-tag="markdown,file conversion"
           data-author="" >
            <span class="post-title" title="Using Pandoc for File Conversion">Using Pandoc for File Conversion</span>
            <span class="post-date" title="2022-11-19 00:00:00">2022/11/19</span>
        </a>
        
        
        <a  class="All tools "
           href="/funeland/2022/11/14/016-mtheory/"
           data-tag="music"
           data-author="" >
            <span class="post-title" title="Music Theory Notes (updated 2022-11-16)">Music Theory Notes (updated 2022-11-16)</span>
            <span class="post-date" title="2022-11-14 00:00:00">2022/11/14</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2022/11/12/015-notes/"
           data-tag="music,thoughts,听歌有感"
           data-author="" >
            <span class="post-title" title="时不时的听歌有感 1">时不时的听歌有感 1</span>
            <span class="post-date" title="2022-11-12 00:00:00">2022/11/12</span>
        </a>
        
        
        <a  class="All enjoy "
           href="/funeland/2022/11/11/013-stan7s/"
           data-tag="blog"
           data-author="" >
            <span class="post-title" title="Stan7s&#39;s Blog">Stan7s&#39;s Blog</span>
            <span class="post-date" title="2022-11-11 00:00:00">2022/11/11</span>
        </a>
        
        
        <a  class="All reviews "
           href="/funeland/2022/11/10/012-anime2022/"
           data-tag="anime"
           data-author="" >
            <span class="post-title" title="2022 年看的动漫">2022 年看的动漫</span>
            <span class="post-date" title="2022-11-10 00:00:00">2022/11/10</span>
        </a>
        
        
        <a  class="All hobbies "
           href="/funeland/2022/11/08/011-art/"
           data-tag="art,watercolor"
           data-author="" >
            <span class="post-title" title="过去的一些绘画 (手绘篇)">过去的一些绘画 (手绘篇)</span>
            <span class="post-date" title="2022-11-08 20:13:18">2022/11/08</span>
        </a>
        
        
        <a  class="All hobbies "
           href="/funeland/2022/11/08/010-art/"
           data-tag="art,digital art"
           data-author="" >
            <span class="post-title" title="过去的一些绘画 (procreate 人物篇)">过去的一些绘画 (procreate 人物篇)</span>
            <span class="post-date" title="2022-11-08 19:55:18">2022/11/08</span>
        </a>
        
        
        <a  class="All hobbies "
           href="/funeland/2022/11/08/009-art/"
           data-tag="art,digital art"
           data-author="" >
            <span class="post-title" title="过去的一些绘画 (procreate 场景及动物篇)">过去的一些绘画 (procreate 场景及动物篇)</span>
            <span class="post-date" title="2022-11-08 19:45:18">2022/11/08</span>
        </a>
        
        
        <a  class="All hobbies "
           href="/funeland/2022/11/08/008-guitar/"
           data-tag="music,guitar"
           data-author="" >
            <span class="post-title" title="吉他学习资料">吉他学习资料</span>
            <span class="post-date" title="2022-11-08 19:09:22">2022/11/08</span>
        </a>
        
        
        <a  class="All tools "
           href="/funeland/2022/11/07/007-blog/"
           data-tag="blog,hexo"
           data-author="" >
            <span class="post-title" title="How to Build Your Own Blog Using Hexo and GitHub Pages (Mac, 2022)">How to Build Your Own Blog Using Hexo and GitHub Pages (Mac, 2022)</span>
            <span class="post-date" title="2022-11-07 14:51:09">2022/11/07</span>
        </a>
        
        
        <a  class="All reviews "
           href="/funeland/2022/11/05/004-songs/"
           data-tag="music"
           data-author="" >
            <span class="post-title" title="Personal Favorites of Chinese Rock/Indie Music（一些我听的乐队）">Personal Favorites of Chinese Rock/Indie Music（一些我听的乐队）</span>
            <span class="post-date" title="2022-11-05 00:00:00">2022/11/05</span>
        </a>
        
        
        <a  class="All misc "
           href="/funeland/2022/11/04/001-start/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="About This Blog">About This Blog</span>
            <span class="post-date" title="2022-11-04 18:58:21">2022/11/04</span>
        </a>
        
        
        <a  class="All projects "
           href="/funeland/2021/05/08/002-seam/"
           data-tag="computational photography,matlab"
           data-author="" >
            <span class="post-title" title="Content-Aware Image Resizing">Content-Aware Image Resizing</span>
            <span class="post-date" title="2021-05-08 00:00:00">2021/05/08</span>
        </a>
        
        
        <a  class="All projects "
           href="/funeland/2020/12/30/003-web-scraping/"
           data-tag="web scraping"
           data-author="" >
            <span class="post-title" title="Web Scraping with Python Using MyAnimeList as An Example">Web Scraping with Python Using MyAnimeList as An Example</span>
            <span class="post-date" title="2020-12-30 00:00:00">2020/12/30</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-003-web-scraping" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Web Scraping with Python Using MyAnimeList as An Example</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="projects">projects</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">web scraping</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2020-12-30'>2020-12-30</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:1.8k</span>
        
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scraping-Static-HTML-Using-MAL-Top-Animes-as-An-Example"><span class="toc-text">Scraping Static HTML: Using MAL Top Animes as An Example</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Import-libraries"><span class="toc-text">Import libraries</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Helper-Function-to-Parse-One-Anime-Row"><span class="toc-text">Helper Function to Parse One Anime Row</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Function-to-Get-a-Specified-Number-of-Anime-on-The-Top-Anime-List"><span class="toc-text">Function to Get a Specified Number of Anime on The Top Anime List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Convert-Data"><span class="toc-text">Convert Data</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scraping-Dynamic-HTML-Using-MAL-user-list-as-An-Example"><span class="toc-text">Scraping Dynamic HTML: Using MAL user list as An Example</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Helper-Function-to-Get-One-Row-of-MAL-User-List"><span class="toc-text">Helper Function to Get One Row of MAL User List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Additional-Libraries-for-Dynamic-HTML"><span class="toc-text">Additional Libraries for Dynamic HTML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Get-Dynamic-MAL-User-List-Data"><span class="toc-text">Get Dynamic MAL User List Data</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Convert-Data-1"><span class="toc-text">Convert Data</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Disclaimer: The following code for scraping MAL was written on Dec 30th, 2020. MAL data structure may have changed after that.</p>
<!-- To downlaod the ipynb (python jupyter notebook) script I wrote for this post, please click [here](/html_assets/MALscrape/MALscrapper.ipynb).

To download the MAL top 3000 anime list csv file (collected Dec 29, 2020), please click [here](/html_assets/MALscrape/MALtop3000.csv).

To download my own MAL anime list csv file (collected Dec 30, 2020), please click [here](/html_assets/MALscrape/iasnobmatsuMAL.csv). -->
<h3 id="Scraping-Static-HTML-Using-MAL-Top-Animes-as-An-Example"><a href="#Scraping-Static-HTML-Using-MAL-Top-Animes-as-An-Example" class="headerlink" title="Scraping Static HTML: Using MAL Top Animes as An Example"></a>Scraping Static HTML: Using MAL Top Animes as An Example</h3><h4 id="Import-libraries"><a href="#Import-libraries" class="headerlink" title="Import libraries"></a>Import libraries</h4><ul>
<li>BeautifulSoup: for scraping</li>
<li>requests: request html and parse</li>
<li>re: regular expression for string manipulation</li>
<li>pandas: convert data scraped into csv files</li>
</ul>
<span id="more"></span>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup </span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></tbody></table></figure>
<h4 id="Helper-Function-to-Parse-One-Anime-Row"><a href="#Helper-Function-to-Parse-One-Anime-Row" class="headerlink" title="Helper Function to Parse One Anime Row"></a>Helper Function to Parse One Anime Row</h4><p><img src="!--swig￼12-->/images/MALscrape/static.png" alt=""></p>
<p>Looking at the html of <a target="_blank" rel="noopener" href="https://myanimelist.net/topanime.php">https://myanimelist.net/topanime.php</a> (using chrome, right click and select inspect, navigate to the element section, and you will see the HTML), each anime is a tr (table row) of the table. Within each row, name of anime is wrapped in class anime_ranking_h3, related information in class information, and score in class score. These can be scraped with beautifulsoup rather simply using the select() function. Then the text can be cleaned.</p>
<p>We can further get a show’s start year and end year from the related information section. Here I used regular expression to get 4 digits of year to match start and end years.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getOneRow</span>(<span class="params">targetrow</span>):</span><br><span class="line">    animeTitle=targetrow.select(<span class="string">"h3.anime_ranking_h3"</span>)[<span class="number">0</span>].text</span><br><span class="line">    animeInformation=targetrow.select(<span class="string">"div.information"</span>)[<span class="number">0</span>].text.replace(<span class="string">"\n"</span>,<span class="string">"|"</span>).replace(<span class="string">"  "</span>,<span class="string">""</span>)</span><br><span class="line"></span><br><span class="line">    animeScore=targetrow.select(<span class="string">"td.score"</span>)[<span class="number">0</span>].text.replace(<span class="string">"\n"</span>, <span class="string">""</span>)</span><br><span class="line">    <span class="comment"># split by |</span></span><br><span class="line">    year=animeInformation.split(<span class="string">"|"</span>) </span><br><span class="line">    <span class="comment"># get all years in the second section from above</span></span><br><span class="line">    years=re.findall(<span class="string">'[0-9]+'</span>, year[<span class="number">2</span>])</span><br><span class="line">    start=<span class="string">"NA"</span></span><br><span class="line">    end=<span class="string">"NA"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(year)&gt;<span class="number">0</span>:</span><br><span class="line">        start=years[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(years)&gt;<span class="number">1</span>:</span><br><span class="line">            end=years[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> animeTitle, animeInformation,animeScore, start, end</span><br><span class="line"></span><br><span class="line"><span class="comment"># tablerow[0]</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Function-to-Get-a-Specified-Number-of-Anime-on-The-Top-Anime-List"><a href="#Function-to-Get-a-Specified-Number-of-Anime-on-The-Top-Anime-List" class="headerlink" title="Function to Get a Specified Number of Anime on The Top Anime List"></a>Function to Get a Specified Number of Anime on The Top Anime List</h4><p>Pass in the url into requests.get() function to get the entire page, then make a soup out of it with BeautifulSoup. With the soup ready, we could find the table corresponding to the top anime list and find all its rows. For each row, get desired data with the getOneRow() helper function. Because each page of the top anime list only has 50 animes, if requesting more than 50 anime, make sure to get a loop to scrape pages after the first one.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getTopAnime</span>(<span class="params">limit</span>):</span><br><span class="line">    <span class="comment"># I find using a dict to store data is the easiest, and it's easy to convert to JSON or csv</span></span><br><span class="line">    topanimedict=[] </span><br><span class="line"></span><br><span class="line">    <span class="comment">#url</span></span><br><span class="line">    url = <span class="string">"https://myanimelist.net/topanime.php"</span> </span><br><span class="line">    <span class="comment">#make soup of html</span></span><br><span class="line">    soup = BeautifulSoup(requests.get(url).text, <span class="string">'lxml'</span>) </span><br><span class="line">    <span class="comment">#get table corresponding to the top anime table.</span></span><br><span class="line">    toptable = soup.select(<span class="string">"table"</span>)[<span class="number">0</span>] </span><br><span class="line">    <span class="comment">#get all rows in the table</span></span><br><span class="line">    tablerow=toptable.select(<span class="string">"tr.ranking-list"</span>) </span><br><span class="line">     <span class="comment">#get data for each row</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> tablerow:</span><br><span class="line">        anime, info, score, st, ed=getOneRow(row)</span><br><span class="line">        tempdict={<span class="string">"anime"</span>: anime,<span class="string">"start"</span>: st, <span class="string">"end"</span>:ed,  <span class="string">"score"</span>: score, <span class="string">"information"</span>: info}</span><br><span class="line">        topanimedict.append(tempdict)</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># get page 2, 3, 4 etc after the first one</span></span><br><span class="line">    <span class="keyword">if</span> limit&gt;<span class="number">50</span>: </span><br><span class="line">        ind=limit//<span class="number">50</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">1</span>,ind):</span><br><span class="line">            url = <span class="string">"https://myanimelist.net/topanime.php?limit="</span>+<span class="built_in">str</span>(<span class="number">50</span>*i)</span><br><span class="line">            <span class="built_in">print</span>(url)</span><br><span class="line">            soup = BeautifulSoup(requests.get(url).text, <span class="string">'lxml'</span>)</span><br><span class="line">            toptable = soup.select(<span class="string">"table"</span>)[<span class="number">0</span>]</span><br><span class="line">            tablerow=toptable.select(<span class="string">"tr.ranking-list"</span>)</span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> tablerow:</span><br><span class="line">                anime, info, score, st, ed=getOneRow(row)</span><br><span class="line">                tempdict={<span class="string">"anime"</span>: anime,<span class="string">"start"</span>: st, <span class="string">"end"</span>:ed,  <span class="string">"score"</span>: score, <span class="string">"information"</span>: info}</span><br><span class="line">                topanimedict.append(tempdict)</span><br><span class="line">    </span><br><span class="line">    topanimedf=pd.DataFrame.from_dict(topanimedict)</span><br><span class="line">    <span class="keyword">return</span> topanimedf</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Convert-Data"><a href="#Convert-Data" class="headerlink" title="Convert Data"></a>Convert Data</h4><p>With the help of a dictionary and the pandas library, it is really easy to convert what we scraped into a csv. This script will save the data to the same directory where the script is stored.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df=getTopAnime(<span class="number">3000</span>)</span><br><span class="line">df.to_csv(<span class="string">'MALtop3000.csv'</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></tbody></table></figure>
<pre><code>https://myanimelist.net/topanime.php?limit=50
https://myanimelist.net/topanime.php?limit=100
https://myanimelist.net/topanime.php?limit=150
https://myanimelist.net/topanime.php?limit=200
https://myanimelist.net/topanime.php?limit=250
https://myanimelist.net/topanime.php?limit=300
https://myanimelist.net/topanime.php?limit=350
https://myanimelist.net/topanime.php?limit=400
https://myanimelist.net/topanime.php?limit=450
https://myanimelist.net/topanime.php?limit=500
https://myanimelist.net/topanime.php?limit=550
https://myanimelist.net/topanime.php?limit=600
https://myanimelist.net/topanime.php?limit=650
https://myanimelist.net/topanime.php?limit=700
https://myanimelist.net/topanime.php?limit=750
https://myanimelist.net/topanime.php?limit=800
https://myanimelist.net/topanime.php?limit=850
https://myanimelist.net/topanime.php?limit=900
https://myanimelist.net/topanime.php?limit=950
https://myanimelist.net/topanime.php?limit=1000
https://myanimelist.net/topanime.php?limit=1050
https://myanimelist.net/topanime.php?limit=1100
https://myanimelist.net/topanime.php?limit=1150
https://myanimelist.net/topanime.php?limit=1200
https://myanimelist.net/topanime.php?limit=1250
https://myanimelist.net/topanime.php?limit=1300
https://myanimelist.net/topanime.php?limit=1350
https://myanimelist.net/topanime.php?limit=1400
https://myanimelist.net/topanime.php?limit=1450
https://myanimelist.net/topanime.php?limit=1500
https://myanimelist.net/topanime.php?limit=1550
https://myanimelist.net/topanime.php?limit=1600
https://myanimelist.net/topanime.php?limit=1650
https://myanimelist.net/topanime.php?limit=1700
https://myanimelist.net/topanime.php?limit=1750
https://myanimelist.net/topanime.php?limit=1800
https://myanimelist.net/topanime.php?limit=1850
https://myanimelist.net/topanime.php?limit=1900
https://myanimelist.net/topanime.php?limit=1950
https://myanimelist.net/topanime.php?limit=2000
https://myanimelist.net/topanime.php?limit=2050
https://myanimelist.net/topanime.php?limit=2100
https://myanimelist.net/topanime.php?limit=2150
https://myanimelist.net/topanime.php?limit=2200
https://myanimelist.net/topanime.php?limit=2250
https://myanimelist.net/topanime.php?limit=2300
https://myanimelist.net/topanime.php?limit=2350
https://myanimelist.net/topanime.php?limit=2400
https://myanimelist.net/topanime.php?limit=2450
https://myanimelist.net/topanime.php?limit=2500
https://myanimelist.net/topanime.php?limit=2550
https://myanimelist.net/topanime.php?limit=2600
https://myanimelist.net/topanime.php?limit=2650
https://myanimelist.net/topanime.php?limit=2700
https://myanimelist.net/topanime.php?limit=2750
https://myanimelist.net/topanime.php?limit=2800
https://myanimelist.net/topanime.php?limit=2850
https://myanimelist.net/topanime.php?limit=2900
https://myanimelist.net/topanime.php?limit=2950
</code></pre><p>Take a look at the scrape data file. Looked pretty neat to me. Index is the ranking-1.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.tail()</span><br></pre></td></tr></tbody></table></figure>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>anime</th>
      <th>end</th>
      <th>information</th>
      <th>score</th>
      <th>start</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2995</th>
      <td>Sekirei</td>
      <td>2008</td>
      <td>|TV (12 eps)|Jul 2008 - Sep 2008|320,922 members|</td>
      <td>7.14</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>2996</th>
      <td>Shin Atashin'chi</td>
      <td>2016</td>
      <td>|TV (26 eps)|Oct 2015 - Apr 2016|2,427 members|</td>
      <td>7.14</td>
      <td>2015</td>
    </tr>
    <tr>
      <th>2997</th>
      <td>Tantei Opera Milky Holmes Movie: Gyakushuu no ...</td>
      <td>2016</td>
      <td>|Movie (1 eps)|Feb 2016 - Feb 2016|3,417 members|</td>
      <td>7.14</td>
      <td>2016</td>
    </tr>
    <tr>
      <th>2998</th>
      <td>Tenchi Muyou! Manatsu no Eve</td>
      <td>1997</td>
      <td>|Movie (1 eps)|Aug 1997 - Aug 1997|13,514 memb...</td>
      <td>7.14</td>
      <td>1997</td>
    </tr>
    <tr>
      <th>2999</th>
      <td>Tengen Toppa Gurren Lagann: Parallel Works</td>
      <td>2008</td>
      <td>|Music (8 eps)|Jun 2008 - Sep 2008|29,743 memb...</td>
      <td>7.14</td>
      <td>2008</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="Scraping-Dynamic-HTML-Using-MAL-user-list-as-An-Example"><a href="#Scraping-Dynamic-HTML-Using-MAL-user-list-as-An-Example" class="headerlink" title="Scraping Dynamic HTML: Using MAL user list as An Example"></a>Scraping Dynamic HTML: Using MAL user list as An Example</h3><p>with the code here, you will be able to scrape any user’s MAL. Here I used my own anime list as an example (<a target="_blank" rel="noopener" href="https://myanimelist.net/animelist/iasnobmatsu">https://myanimelist.net/animelist/iasnobmatsu</a>, FYI I highly highly recommend Attack on Titan, Haikyu, and Hoseki no Kuni).</p>
<p>Dynamic HTML is different from static HTML as the static HTML is rendered from HTML source file (imaging writing an html file and that is what we scrape). Dynamic HTML, on the other side, is not rendered from HTML source files but from JavaScript (Or JQuery or React, whatever framework). Dynamic HTML, unlike static, is not generate the moment a url is opened, but will need some time to render after the document is ready.</p>
<h4 id="Helper-Function-to-Get-One-Row-of-MAL-User-List"><a href="#Helper-Function-to-Get-One-Row-of-MAL-User-List" class="headerlink" title="Helper Function to Get One Row of MAL User List"></a>Helper Function to Get One Row of MAL User List</h4><p><img src="!--swig￼13-->/images/MALscrape/dynamic.png" alt=""></p>
<p>Similar to the getOneRow function(), this function parses specific data for one anime. This step is the same regardless of static or dynamic HTML.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getOneRowMAL</span>(<span class="params">targetrow</span>):</span><br><span class="line">    animeTitle=targetrow.select(<span class="string">"td.title"</span>)[<span class="number">0</span>].select(<span class="string">"a.link.sort"</span>)[<span class="number">0</span>].text</span><br><span class="line">    animeType=targetrow.select(<span class="string">"td.type"</span>)[<span class="number">0</span>].text.strip()</span><br><span class="line">    animeScore=targetrow.select(<span class="string">"td.score"</span>)[<span class="number">0</span>].text.strip()</span><br><span class="line">    animeProgress=targetrow.select(<span class="string">"td.progress"</span>)[<span class="number">0</span>].text.replace(<span class="string">"\n"</span>, <span class="string">""</span>).replace(<span class="string">"  "</span>,<span class="string">""</span>)</span><br><span class="line">    <span class="keyword">return</span> animeTitle, animeType,animeScore, animeProgress</span><br><span class="line"></span><br><span class="line">getOneRowMAL(rows[<span class="number">27</span>])</span><br></pre></td></tr></tbody></table></figure>
<pre><code>('Haikyuu!!', 'TV', '7', ' 25 ')
</code></pre><h4 id="Additional-Libraries-for-Dynamic-HTML"><a href="#Additional-Libraries-for-Dynamic-HTML" class="headerlink" title="Additional Libraries for Dynamic HTML"></a>Additional Libraries for Dynamic HTML</h4><p>For scraping dynamic HTML, we need selenium and time. </p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br></pre></td></tr></tbody></table></figure>
<h4 id="Get-Dynamic-MAL-User-List-Data"><a href="#Get-Dynamic-MAL-User-List-Data" class="headerlink" title="Get Dynamic MAL User List Data"></a>Get Dynamic MAL User List Data</h4><p>to scrape dynamic data, we need the url of the webpage. We also need to have a web browser driver. Here I use the Chrome driver (download here <a target="_blank" rel="noopener" href="https://chromedriver.chromium.org/">https://chromedriver.chromium.org/</a> or through homebrew etc). I stored it in my download folder, and I will need the path to the driver. I used Mac and Chrome driver in this case. </p>
<p>With the url of webpage and path to browser driver ready, we will use selenium to declare a driver variable, and use it instead of requests to get the url.</p>
<p>Then it is important to delay the rest of the function by some time, here I used .2 but it may differ depend on how fast a page loads on a specific device under specific internet conditions. This time allows dynamic HTML to render so we scrape the desired content instead of the intial script used to generate the HTML (which we cannot parse).<br>Then similar steps to scrape each row of data from the user anime list using BeautifulSoup.</p>
<p>When using selenium with webdriver to scrap data, the browser may pop open with the url. You should not close the window until the data is scraped. If the window is closedbefore beautifulsoup get the change to read code on the driver, it will not work.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getMAL</span>(<span class="params">url, driverPath</span>):</span><br><span class="line">    MALdict=[]</span><br><span class="line">    <span class="comment"># use selenium to simulate driver</span></span><br><span class="line">    driver = webdriver.Chrome(driverPath)</span><br><span class="line">    driver.get(url) <span class="comment"># get page</span></span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">0.2</span>) <span class="comment"># may need to change</span></span><br><span class="line">    <span class="comment"># similar to static, get soup and parse</span></span><br><span class="line">    soup=BeautifulSoup(driver.page_source, <span class="string">'lxml'</span>)</span><br><span class="line">    toptable = soup.select(<span class="string">"table"</span>)[<span class="number">0</span>]</span><br><span class="line">    rows=toptable.select(<span class="string">"tbody.list-item"</span>)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> rows:</span><br><span class="line">        ti,ty,sc,pr=getOneRowMAL(row)</span><br><span class="line">        MALdict.append({<span class="string">"anime"</span>:ti,<span class="string">"type"</span>:ty, <span class="string">"score"</span>:sc,<span class="string">"progress"</span>:pr})</span><br><span class="line">    <span class="keyword">return</span> pd.DataFrame.from_dict(MALdict)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Convert-Data-1"><a href="#Convert-Data-1" class="headerlink" title="Convert Data"></a>Convert Data</h4><p>Here we use the function above to get dynamic HTML data from my MAL list (you can replace with any user’s MAL list. The data is saved again to a CSV file.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">url=<span class="string">'https://myanimelist.net/animelist/iasnobmatsu'</span></span><br><span class="line">driverp=<span class="string">"/Users/ziqianxu/Downloads/chromedriver"</span></span><br><span class="line">df2=getMAL(url,driverp)</span><br><span class="line">df2.to_csv(<span class="string">'iasnobmatsuMAL.csv'</span>, index=<span class="literal">False</span>)</span><br><span class="line">df2.head()</span><br></pre></td></tr></tbody></table></figure>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>anime</th>
      <th>progress</th>
      <th>score</th>
      <th>type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>JoJo no Kimyou na Bouken Part 3: Stardust Crus...</td>
      <td>- / 24</td>
      <td>8</td>
      <td>TV</td>
    </tr>
    <tr>
      <th>1</th>
      <td>One Piece</td>
      <td>- / -</td>
      <td>8</td>
      <td>TV</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Shingeki no Kyojin: The Final Season</td>
      <td>- / 16</td>
      <td>10</td>
      <td>TV</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Akagami no Shirayuki-hime</td>
      <td>12</td>
      <td>5</td>
      <td>TV</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Bleach</td>
      <td>366</td>
      <td>7</td>
      <td>TV</td>
    </tr>
  </tbody>
</table>
</div>


      
       
    </div>
</article>


<!--  -->




    




    </div>
    <!-- <div class="copyright">
        <!-- <p class="footer-entry">
    ©2020-2023 iasnobmatsu
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p> -->

    </div> -->
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<!-- <script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>






 -->
</html>
